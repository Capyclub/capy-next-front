(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2870:(e,t,a)=>{Promise.resolve().then(a.bind(a,7943))},7943:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});var r=a(5155),s=a(2115);function l(e){return/^[a-zA-Zà-ÿÀ-Ÿ' -]+$/.test(e)}var o=a(5565);let n=function(){let[e,t]=(0,s.useState)({firstName:"",lastName:"",city:"",postalCode:"",email:"",birthDate:new Date(Date.now())}),[a,n]=(0,s.useState)({}),[i,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)(!1),m=()=>{var t,a;let r={};return 18>function(e){if(!e)throw Error("No argument was provided.");if(!e.hasOwnProperty("birth"))throw Error("The object does not contain a 'birth' field.");if("string"==typeof e.birth){if(!/^\d{4}-\d{2}-\d{2}$/.test(e.birth))throw Error("The date format is invalid. It should be yyyy-mm-dd.");e.birth=new Date(e.birth)}if(!(e.birth instanceof Date)||isNaN(e.birth.getTime()))throw Error("The provided date is not valid.");return Math.abs(new Date(Date.now()-e.birth.getTime()).getUTCFullYear()-1970)}({birth:e.birthDate})&&(r.birthDate="You must be at least 18 years old."),t=e.postalCode,/^[0-9]{5}$/.test(t)||(r.postalCode="Postal code must be exactly 5 digits."),l(e.firstName)||(r.firstName="First name must not contain special characters or numbers."),l(e.lastName)||(r.lastName="Last name must not contain special characters or numbers."),l(e.city)||(r.city="City name must not contain special characters or numbers."),a=e.email,/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)||(r.email="Email is not valid."),n(r),0===Object.keys(r).length};(0,s.useEffect)(()=>{e.firstName&&e.lastName&&e.city&&e.postalCode&&e.email&&e.birthDate?c(!0):c(!1)},[e]),(0,s.useEffect)(()=>{if(d){let e=setTimeout(()=>{u(!1)},4e3);return()=>clearTimeout(e)}},[d]);let p=a=>{t({...e,[a.target.name]:a.target.value})};return(0,r.jsxs)("div",{className:"flex h-screen w-screen font-body",children:[(0,r.jsx)("div",{className:"w-3/6 h-full ",children:(0,r.jsx)(o.default,{className:"w-full h-full object-cover",width:800,height:800,src:"/capybara.jpg",alt:"capybara"})}),(0,r.jsx)("div",{className:"w-3/6 h-full flex justify-center items-center",children:(0,r.jsxs)("div",{className:"justify-center align-middle ",children:[(0,r.jsx)("h1",{className:"text-4xl text-center my-10 font-heading ",children:"Capyclub subscription"}),d&&(0,r.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",role:"alert",children:"Form submitted successfully!"}),(0,r.jsxs)("form",{className:"max-w-md mx-auto ",onSubmit:a=>{if(a.preventDefault(),m()){let a=JSON.parse(localStorage.getItem("registeredUsers")||"[]"),r={...e,registrationDate:new Date().toISOString()};localStorage.setItem("registeredUsers",JSON.stringify([...a,r])),t({firstName:"",lastName:"",city:"",postalCode:"",email:"",birthDate:new Date(Date.now())}),n({}),u(!0)}},children:[(0,r.jsxs)("div",{className:"relative z-0 w-full mb-5 group",children:[(0,r.jsx)("input",{type:"email",name:"email",id:"floating_email","data-testid":"email-input",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:!0,value:e.email,onChange:p}),(0,r.jsx)("label",{htmlFor:"floating_email",className:"peer-focus:font-medium absolute text-sm text-gray-500 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 peer-focus:text-blue-600 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Email address"}),a.email&&(0,r.jsx)("p",{"data-testid":"email-error",className:"text-red-500 text-sm",children:a.email})]}),(0,r.jsxs)("div",{className:"relative z-0 w-full mb-5 group",children:[(0,r.jsx)("input",{type:"text",name:"firstName",id:"floating_first_name","data-testid":"first-name-input",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:!0,value:e.firstName,onChange:p}),(0,r.jsx)("label",{htmlFor:"floating_first_name",className:"peer-focus:font-medium absolute text-sm text-gray-500 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 peer-focus:text-blue-600 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"First Name"}),a.firstName&&(0,r.jsx)("p",{"data-testid":"first-name-error",className:"text-red-500 text-sm",children:a.firstName})]}),(0,r.jsxs)("div",{className:"relative z-0 w-full mb-5 group",children:[(0,r.jsx)("input",{type:"text",name:"lastName",id:"floating_last_name","data-testid":"last-name-input",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:!0,value:e.lastName,onChange:p}),(0,r.jsx)("label",{htmlFor:"floating_last_name",className:"peer-focus:font-medium absolute text-sm text-gray-500 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 peer-focus:text-blue-600 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Last Name"}),a.lastName&&(0,r.jsx)("p",{"data-testid":"last-name-error",className:"text-red-500 text-sm",children:a.lastName})]}),(0,r.jsxs)("div",{className:"relative z-0 w-full mb-5 group",children:[(0,r.jsx)("input",{type:"text",name:"city",id:"floating_city","data-testid":"city-input",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:!0,value:e.city,onChange:p}),(0,r.jsx)("label",{htmlFor:"floating_city",className:"peer-focus:font-medium absolute text-sm text-gray-500 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 peer-focus:text-blue-600 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"City"}),a.city&&(0,r.jsx)("p",{"data-testid":"city-error",className:"text-red-500 text-sm",children:a.city})]}),(0,r.jsxs)("div",{className:"relative z-0 w-full mb-5 group",children:[(0,r.jsx)("input",{type:"text",name:"postalCode",id:"floating_postal_code","data-testid":"postal-code-input",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:!0,value:e.postalCode,onChange:p}),(0,r.jsx)("label",{htmlFor:"floating_postal_code",className:"peer-focus:font-medium absolute text-sm text-gray-500 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 peer-focus:text-blue-600 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Postal Code"}),a.postalCode&&(0,r.jsx)("p",{"data-testid":"postal-code-error",className:"text-red-500 text-sm",children:a.postalCode})]}),(0,r.jsxs)("div",{className:"relative z-0 w-full mb-5 group",children:[(0,r.jsx)("input",{type:"date",name:"birthDate",id:"floating_birth_date","data-testid":"birth-date-input",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:!0,value:e.birthDate.toString(),onChange:p}),(0,r.jsx)("label",{htmlFor:"floating_birth_date",className:"peer-focus:font-medium absolute text-sm text-gray-500 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 peer-focus:text-blue-600 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Birth Date"}),a.birthDate&&(0,r.jsx)("p",{"data-testid":"birth-date-error",className:"text-red-500 text-sm",children:a.birthDate.toString()})]}),(0,r.jsx)("button",{type:"submit","data-testid":"submit-button",className:"text-black bg-[#FCD143] hover:bg-[#ffe696] focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center \n                    ".concat(!i&&"opacity-50 cursor-not-allowed"),disabled:!i,children:"Submit"})]})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[565,441,517,358],()=>t(2870)),_N_E=e.O()}]);